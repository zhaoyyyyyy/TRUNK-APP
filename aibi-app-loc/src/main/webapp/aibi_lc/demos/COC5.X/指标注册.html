<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>指标注册</title>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <![endif]-->
    <link href="../../asset/css/common/reset.css" rel="stylesheet"  />
    <link href="../../asset/css/jQueryUI/jquery-ui-1.12.1.min.css" rel="stylesheet"  />
    <link href="../../asset/script/common/jQuery/jQueryUI/gird/page/page.css" rel="stylesheet"  />
    <link href="../../asset/script/common/jQuery/jQueryUI/gird/css/ui.jqgrid.css" rel="stylesheet"  />
    <link href="../../asset/script/common/jQuery/jQueryUI/gird/css/ui.jqgrid.owner.css" rel="stylesheet"  />
    <link href="../../asset/css/theme/default/button.css" rel="stylesheet"  />
    <link href="../../asset/css/theme/default/form.css" rel="stylesheet"  />
    <link href="../../asset/css/theme/default/tab.css" rel="stylesheet"  />
    <link href="../../asset/css/theme/default/coc_frame.css" rel="stylesheet"  />
    <link href="../../asset/css/theme/default/main.css" rel="stylesheet"  />
    <script type="text/javascript" src="../../asset/script/common/jQuery/jquery-1.12.4.js"></script>
    <script src="../../asset/script/common/jQuery/jQueryUI/jquery-ui-1.12.1.min.js"></script>
    <script src="../../asset/script/common/jQuery/jQueryUI/gird/page/jquery.page.js"></script>
    <script src="../../asset/script/common/jQuery/jQueryUI/gird/js/jquery.jqGrid.min.js"></script>
    <script src="../../asset/script/common/jQuery/jQueryUI/gird/js/i18n/grid.locale-cn.js"></script>
    <script src="../../asset/script/common/jQuery/jQueryUI/gird/jquery.jqGrid.extend.js"></script>
    <!--
        H5兼容js CSS3 兼容JS
    -->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script>
    <script src="http://apps.bdimg.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="ui-header clearfix">
    <div class="ui-header-logo fleft">
        <img src="../../asset/css/theme/default/images/logo.png"/>
    </div>
    <div class="ui-header-content fleft">
        <div class="clearfix">
            <div class="ui-header-search fleft">
                <div class="control-input has-icon">
                    <input type="text" class="form-control" id="inputEmail4" placeholder="搜索" >
                    <span class="glyphicon-search form-control-feedback"></span>
                </div>
            </div>
            <div class="ui-notice fright">
                <i class="ui-help"></i>
                <i class="ui-clock"></i>
                <i class="ui-tag"></i>
                <i class="ui-notice-icon">
                    <span>8</span>
                </i>
 				<span class="ui-login-header">
 					<img alt="" src="../../asset/images/timg.jpg" />
 					<em class="ui-user-info"></em>
 				</span>
            </div>
        </div>
    </div>
</div>
<div class="ui-container clearfix">
    <div class="ui-menu fleft">
        <ul class="ui-menu-ul">
            <li>
                <a href="javascript:;">首页</a>
            </li>
            <li class="active">
                <a href="javascript:;">标签集市</a>
            </li>
            <li>
                <a href="javascript:;">优秀案例</a>
            </li>
            <li>
                <a href="javascript:;">客户群集市</a>
            </li>
            <li>
                <a href="javascript:;">我的客户群</a>
            </li>
            <li>
                <a href="javascript:;">营销效果评估</a>
            </li>
            <li>
                <a href="javascript:;">标签管理</a>
            </li>
            <li>
                <a href="javascript:;">消息管理</a>
            </li>
            <li>
                <a href="javascript:;">其他</a>
            </li>
        </ul>
    </div>
    <div class="ui-main fleft">
        <div class="ui-reg-main">
            <div class="ui-lc-mian">
                <h3>指标注册</h3>
                <form>
                    <div class="ui-expand-search ui-reg-search">
                        <div class="form-inline ui-form">
                            <div class="clearfix">
                                <div class="form-group">
                                    <label for="exampleInputEmail3">表名称</label>
                                    <input type="text" class="form-control mr10 ml10" id="exampleInputEmail3" placeholder="">
                                    <button type="button" class="ui-btn ui-btn-default fright">解析</button>
                                </div>
                                <div class="form-group ml30">
                                    <label class="fleft mt5" for="exampleInputEmail3">客户唯一标识</label>
                                    <div class="control-input has-icon">
                                        <input type="text" class="form-control input-pointer ml10" id="inputEmail4" placeholder="客户唯一标识" readonly="readonly">
                                        <span class="glyphicon-select form-control-feedback"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix mt30">
                                <div class="form-group fleft mr100">
                                    <label for="exampleInputEmail3">时间区分字段</label>
                                    <input type="text" class="form-control ml10" id="exampleInputEmail3" placeholder="">
                                </div>
                                <div class="form-group fleft tag-radio">
                                    <label for="inputEmail4" class="control-label fleft mt5">数据更新周期</label>
                                    <div class="control-input ml10">
                                        <div class="radio circle success">
                                            <input type="radio" name="radio19" id="myr3" checked="checked">
                                            <label for="myr3"><i class="default"></i> 日</label>
                                        </div>
                                        <div class="radio circle success">
                                            <input type="radio" name="radio19"  id="myr4">
                                            <label  for="myr4"><i class="default"></i> 月</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ui-reg-table mt20">
                        <div class="clearfix">
                            <h3 class="fleft ml20">字段描述</h3>
                            <button type="button" class="ui-btn ui-btn-sm ui-btn-default fleft ml20">导入</button>
                            <button type="button" class="ui-btn ui-btn-sm ui-btn-second fleft ml10">模版下载</button>
                        </div>
                        <div class="ui-reg-grid">
                            <div class=" ui-table-title mt10">
                                <table id="jsonmap"  class="table table-striped"></table>
                            </div>
                            <button type="button" class="ui-btn ui-btn-sm ui-btn-second mt10">添加一行</button>
                            <div class="ui-grid-button clearfix mt20">
                                <button type="button" class="ui-btn ui-btn-second">取消</button>
                                <button type="button" class="ui-btn ui-btn-default">保存</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- todo -->

        </div>
    </div>

</div>
<script type="text/javascript">
    $(function(){
        $("#jsonmap").AIGrid({
            url:'../grid.json',
            datatype: "json",
            colNames:['字段名称','字段类型', '指标中文名', '是否表示列','描述','操作'],
            colModel:[
                {name:'id',index:'id', width:80, sortable:false,frozen : true,editable: true },//frozen : true固定列
                {name:'invdate',index:'invdate', width:70,sortable:false, jsonmap:"invdate",align:"center",editable: true},
                {name:'name',index:'name asc, invdate', width:110,align:"center",sortable:false,editable: true},
                {name:'amount',index:'amount', width:50,align:"center",sortable:true,editable: true},
                {name:'tax',index:'tax', width:120,align:"center"	,editable: true,sortable:true},
                {name:'op',index:'op', width:40, sortable:false,formatter:del,align:"center"}
            ],
            rowNum:3,
            cellEdit: true,//单个编辑 去掉行编辑
            onSelectRow: function(id){debugger
                $('#jsonmap').jqGrid('editRow',id,true);
            },
            rowList:[10,20,30],
            //pager: '#pjmap',//分页的id
            sortname: 'invdate',//排序的字段名称 不需要的话可置为空  取值取自colModel中的index字段
            viewrecords: true,
            multiselect:false,
//            caption:"标题",
            rownumbers:false,//是否展示行号
            sortorder: "desc",//排序方式
            jsonReader: {
                repeatitems : false,
                id: "0"
            },
            height: '100%'
        });
        function setColor(cellvalue, options, rowObject){
            if(rowObject.total > 700){
                return '<span class="appMonitor" style="color:#faa918;">草稿</span>';
            }
            return cellvalue;
        }
        function del(){
            var html='<button type="button" class="btn btn-default  ui-table-btn ui-table-btn">删除</button>';
            return html;
        }
    });




</script>


</body>
</html>