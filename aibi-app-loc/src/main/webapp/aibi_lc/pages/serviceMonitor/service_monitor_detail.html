<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>运行监控总览</title>
    <link rel="stylesheet" theme="default" href="../../asset/css/common/reset.css"/> 
    <link rel="stylesheet" theme="default" href="../../asset/css/theme/default/coc_frame.css"/> 
	<link rel="stylesheet" theme="default" href="../../asset/css/theme/default/main.css"/> 
   	<script type="text/javascript" src="../../asset/script/common/include.js"></script>
   	<script type="text/javascript" src="service_monitor_detail.js"></script>
   	<script type="text/javascript" src="DateFmt.js"></script>
   	<style type="text/css">
	[v-cloak] {
		display: none;
	}
	</style>
</head>
<body>
    <div class="iframe-nest">
      	<div class="ui-lc-mian">
      		<h3 class="pre">
      			<span>运行监控明细</span>
      		</h3>
      	</div>
      	<div id="monitorDetail" v-cloak>
	      	<div class="ui-lc-mian mt10 ui-prefecture">
	      		<div class="ui-pre-detail clearfix">
		      		<div class="ui-fresh-box">
		      			数据日期
		                <span class="refresh-key">数据刷新频率:</span>
		                <div class="form-group">
							<div class="control-input">
								 <select class="form-control input-pointer" id="refreshId" >
			                        <option v-for="d in sjsxplList" @change="refresh(d.code)" :value="d.code">{{d.dataName}}</option>
			                    </select>
							</div>						
						</div>
		                <span class="tips">提示 : 当网络环境不理想时，设置过高的频率，可能不会呈现相应效果。</span>
	               </div>
	                <select class="ml10" @change="getCycle($event)">
    				 	<option value="day">日周期</option>
    				 	<option value="month">月周期</option>
	    			</select>
					<em></em>
					<div class="control-input has-icon">
			           <input type="text"  readonly="readonly" onmousedown="getTime(this)"
			           	class="form-control input-pointer date-input" id="inputEmail4" v-model="dataDate">
			           <span class="glyphicon-select form-control-feedback"></span>
			        </div>
		      	</div>
	      	</div>
			<div class="ui-lc-mian mt10 ui-morior-border" >
				<div class="ui-prefecture">
					<ul class="ui-label-list clearfix mt10">
						<li class="ui-prerecture-item">
							<div>
								<div class="per-header clearfix">
									<span class="fleft"><em class="data-ready"></em>数据准备</span>
									<p class="fright">
										<span>共<strong>{{serviceMonitorObj.notPrepareCount + serviceMonitorObj.preparedCount +serviceMonitorObj.extractingCount +serviceMonitorObj.extractSuccessCount +serviceMonitorObj.extractFailCount}}</strong>张源表  ，
										成功<strong>{{serviceMonitorObj.extractSuccessCount}}</strong>个</span>
									</p>
								</div>
								<ul class="per-status ui-label-list mt30">
									<li>
										<span>未准备</span> 
										<p>{{serviceMonitorObj.notPrepareCount}}</p>
									</li>
									<li>
										<span>准备完成</span>
										<p>{{serviceMonitorObj.preparedCount}}</p>
									</li>
									<li class="padding0">
										<span>抽取中</span>
										<p>{{serviceMonitorObj.extractingCount}}</p>
									</li>
									<li>
										<span>抽取完成</span>
										<p>{{serviceMonitorObj.extractSuccessCount}}</p>
									</li>
									<li>
										<span>抽取失败</span>
										<p>{{serviceMonitorObj.extractFailCount}}</p>
									</li>
								</ul>
							</div>
						</li>
						<li class="ui-prerecture-item">
							<div>
								<div class="per-header clearfix">
									<span class="fleft"><em class="label-build"></em>标签生成</span>
									<p class="fright">
										<span>共<strong>{{serviceMonitorObj.genSuccessCount + serviceMonitorObj.genFailCount}}</strong>个日标签 ，
										成功<strong>{{serviceMonitorObj.genSuccessCount}}</strong>个</span>
									</p>
								</div>
								<ul class="per-status ui-label-list mt30">
									<li>
										<span>成功</span>
										<p>{{serviceMonitorObj.genSuccessCount}}</p>
									</li>
									<li>
										<span>失败</span>
										<p>{{serviceMonitorObj.genFailCount}}</p>
									</li>
								</ul>
							</div>
						</li>
						<li class="ui-prerecture-item">
							<div>
								<div class="per-header clearfix">
									<span class="fleft"><em class="label-custom"></em>客户群生成</span>
									<p class="fright">
										<span>共<strong>{{serviceMonitorObj.customPrepareCount + serviceMonitorObj.customCreatingCount +serviceMonitorObj.customSuccessCount +serviceMonitorObj.customAppointCount +serviceMonitorObj.customFailCount}}</strong>个日周期客户群 ，
										成功<strong>{{serviceMonitorObj.customSuccessCount}}</strong>个</span>
									</p>
								</div>
								<ul class="per-status ui-label-list mt30">
									<li>
										<span>待创建</span>
										<p>{{serviceMonitorObj.customPrepareCount}}</p>
									</li>
									<li>
										<span>创建中</span>
										<p>{{serviceMonitorObj.customCreatingCount}}</p>
									</li>
									<li class="padding0">
										<span>创建成功</span>
										<p>{{serviceMonitorObj.customSuccessCount}}</p>
									</li>
									<li>
										<span>预约</span>
										<p>{{serviceMonitorObj.customAppointCount}}</p>
									</li>
									<li>
										<span>失败</span>
										<p>{{serviceMonitorObj.customFailCount}}</p>
									</li>
								</ul>
							</div>
						</li>
						<li class="ui-prerecture-item padding0">
							<div>
								<div class="per-header clearfix">
									<span class="fleft"><em class="label-custom"></em>客户群推送</span>
									<p class="fright">
										<span>共<strong>{{serviceMonitorObj.pushSuccessCount + serviceMonitorObj.pushingCount + serviceMonitorObj.pushFailCount}}</strong>个待推送的客户群 ，
										成功<strong>{{serviceMonitorObj.pushSuccessCount}}</strong>个</span>
									</p>
								</div>
								<ul class="per-status ui-label-list mt30">
									<li>
										<span>推送成功</span>
										<p>{{serviceMonitorObj.pushSuccessCount}}</p>
									</li>
									<li>
										<span>推送中</span>
										<p>{{serviceMonitorObj.pushingCount}}</p>
									</li>
									<li class="padding0">
										<span>推送失败</span>
										<p>{{serviceMonitorObj.pushFailCount}}</p>
									</li>
								</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
	        <!--<div class="ui-lc-mian mt10 ui-pre-progress"  v-for="d in yyjkList" >
				<span class="ui-pre-refresh ml20" id="dataPrepare+'d.dataName'" @click="jumpTable">{{d.dataName}}<em></em></span>
	    	</div> -->
	    	<div class="ui-lc-mian mt10 ui-pre-progress">
				<a class="ui-pre-refresh ml20">数据准备<em></em></a>
				<a class="ui-pre-refresh ml10">标签生成<em></em></a>
				<a class="ui-pre-refresh ml10">客户群生成<em></em></a>
				<a class="ui-pre-refresh ml10">客户群推送</a>
				<!--<a name="dataReady">&nbsp;</a>-->
	    	</div>
	    	<div class="ui-lc-mian mt20 scrollBox" id="dataPrepareAnchor">
	    		<h3 class="clearfix pre-jqgrid">
	    			数据准备
	    			<div class="ui-status">
	    	     	   <!--<div class="dropdown" v-bind:class="{open:isDown}">
	    					<span class="prefectrue-span" @click="toggleStatus()">准备状态&nbsp;<em></em></span>
		    				<ul class="dropdown-menu" id="chooseStatus">
						       <li><a @click="initDataPrepareTable(true)">准备状态</a></li>
						       <li><a @click="initDataPrepareTable(false)">抽取状态</a></li>
						    </ul>
	    				</div> -->
	    				 <select @change="getStatus($event)">
	    				 	<option value="1">准备状态</option>
	    				 	<option value="2">抽取状态</option>
	    				 </select>
						<span  v-for="d in sjzbList" class="sjzbList" v-if="zbFlag">
							<em></em>&nbsp;{{d.dataName}}
						</span>
						<span  v-for="d in sjcqList" class="sjcqList" v-else>
							<em></em>&nbsp;{{d.dataName}}
						</span>
	    			</div>
	    			<form id="formSearch-dataPrepare" class="form-group fright width-210">
						<div class="input-group">
							<input name="sourceTableName" id="sourceTableName" type="text" class="form-control input-pointer" placeholder="模糊查询" />
							<div class="input-group-addon input-group-icon right-child" id="btn_search_data" data-tableId="dataPrepareTable" data-formSearchId="formSearch-dataPrepare" @keyup.enter="qryTableByCond($event)" @click="qryTableByCond($event)"></div>			
						</div>						
					</form>
	    		</h3>
	    		<div class="ui-table-static mt10">
	                <table id="dataPrepareTable"  class="table"></table>
	                <div id="dataPreparePager"></div>
	            </div>
	           <!-- <a name="labelBuild">&nbsp;</a>-->
	    	</div>
	    	<div class="ui-lc-mian mt20 scrollBox" id="labelGenerateAnchor">
	    		<h3 class="clearfix pre-jqgrid">
	    			标签生成
	    			<div class="ui-status">
	    				<span>生成状态</span>
	    				<span  v-for="d in bqscList">
	    					<em></em>&nbsp;{{d.dataName}}
	    				</span>
	    			</div>
	    			<div id="formSearch-labelGenerate" class="form-group fright width-210">
						<div class="input-group">
							<input name="labelName" id="labelName" type="text" class="form-control input-pointer" placeholder="模糊查询" />
							<div class="input-group-addon input-group-icon right-child" id="btn_search_label" data-tableId="labelGenerateTable" data-formSearchId="formSearch-labelGenerate" @keyup.enter="qryTableByCond($event)" @click="qryTableByCond($event)"></div>			
						</div>						
					</div>
	    		</h3>
	    		<div class="ui-table-static mt10">
	                <table id="labelGenerateTable"  class="table"></table>
	                <div id="labelGeneratePager"></div>
	            </div>
	    		<div class="catch-error" id="catchError"  style="display: none;">
	    			<h3>异常信息</h3>
	    			<span></span>
	    		</div>
	    		<!--<a name="customBuild">&nbsp;</a>-->
	    	</div>
	    	<div class="ui-lc-mian mt20 scrollBox" id="customGenerateAnchor">
	    		<h3 class="clearfix pre-jqgrid">
	    			客户群生成
	    			<div class="ui-status">
	    				<span>生成状态</span>
	    				<span  v-for="d in khqscList">
	    					<em></em>&nbsp;{{d.dataName}}
	    				</span>
	    			</div>
	    			<div id="formSearch-customGenerate" class="form-group fright width-210">
						<div class="input-group">
							<input name="labelName" id="labelName" type="text" class="form-control input-pointer" placeholder="模糊查询" />
							<div class="input-group-addon input-group-icon right-child" id="btn_search_custom" data-tableId="customGenerateTable" data-formSearchId="formSearch-customGenerate" @keyup.enter="qryTableByCond($event)" @click="qryTableByCond($event)"></div>			
						</div>						
					</div>
	    		</h3>
	    		<div class="ui-table-static mt10">
	                <table id="customGenerateTable"  class="table"></table>
	                <div id="customGeneratePager"></div>
	            </div>
	            <!--<a name="customPush">&nbsp;</a>-->
	    	</div>
			<div class="ui-lc-mian mt20 scrollBox" id="customPushAnchor">
     			<h3 class="clearfix pre-jqgrid">
    			客户群推送
    			<div class="ui-status">
    				<span>推送状态</span>
    				<span v-for="d in khqtsList">
    					<em></em>&nbsp;{{d.dataName}}
    				</span>
    			</div>
				<div id="formSearch-customPush" class="form-group fright width-210">
					<div class="input-group">
						<input name="labelName" id="labelName" type="text" class="form-control input-pointer" placeholder="模糊查询" />
						<div class="input-group-addon input-group-icon right-child" id="btn_search_push" data-tableId="customPushTable" data-formSearchId="formSearch-customPush" @keyup.enter="qryTableByCond($event)" @click="qryTableByCond($event)"></div>			
					</div>						
				</div>
    		</h3>
    		<div class="ui-table-static mt10">
                <table id="customPushTable"  class="table"></table>
                <div id="customPushPager"></div>
            </div>
    	</div>
    	</div>
    </div>      
</body>
</html>